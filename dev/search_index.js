var documenterSearchIndex = {"docs":
[{"location":"api/#API","page":"API","title":"API","text":"","category":"section"},{"location":"api/#Loading-COLMAP-dataset","page":"API","title":"Loading COLMAP dataset","text":"GaussianSplatting.jl supports datasets in binary COLMAP format. To load it, you specify which GPU backend to use and a path to the dataset root directory.\n\nimport GaussianSplatting as GPS\n\nkab = GSP.gpu_backend()\ndataset_path = \"<path-to-colmap-dataset>\"\ndataset = GSP.ColmapDataset(kab, dataset_path;\n    scale=4, train_test_split=0.9, permute=true)\n\nscale::Int = 1 controls the scale of images to load (usually between 1 an 8).\ntrain_test_split::Real = 0.8 train/test ratio split.   E.g. 0.8 will select 80% of the data for training and 20% for testing.\npermute::Bool = true whether to shuffle data in a random order.\n\nDataset directory should have the following structure:\n\n- sparse/0/cameras.bin\n- sparse/0/images.bin\n- sparse/0/points3D.bin\n- images/\n\nAdditionally, if setting scale > 1, following directories should exist:\n\n- images_<scale>/","category":"section"},{"location":"api/#Initializing-Gaussians-from-dataset","page":"API","title":"Initializing Gaussians from dataset","text":"Once you load the dataset, you can initialize Gaussian model from it by providing an array of points (means), their colors and scales.\n\ngaussians = GSP.GaussianModel(\n    dataset.points, dataset.colors, dataset.scales;\n    max_sh_degree=3)\n\nmax_sh_degree::Int = 3 set the maximum allowed spherical-harmonics degree.   For a given degree d, each gaussian will have (d + 1)^2 color features.   Set 0 to disable it. This will be used by during training to limit   current spherical-harmonics degree.","category":"section"},{"location":"api/#Rendering-Gaussians","page":"API","title":"Rendering Gaussians","text":"To render Gaussians, we first need to initialize rasterizer on the given GPU backend:\n\nkab = GSP.gpu_backend()\nrasterizer = GSP.GaussianRasterizer(kab; width=1280, height=720, mode=:rgb)\n\nwidth::Int and height::Int control the rendering resolution of the   rasterizer.\nmode::Symbol = :rgb set the rendering mode.   Either :rgb or :rgbd (RGB + depth) is supported for now.\n\nOnce constructed, we can rasterize gaussians onto the image plane given camera that determines the position from which to render:\n\nimage_features = rasterizer(\n    gaussians.points, gaussians.opacities, gaussians.scales,\n    gaussians.rotations, gaussians.features_dc, gaussians.features_rest;\n    camera, gaussians.sh_degree)\n\nDepending on the mode, image_features will be either in 3xWxH shape (:rgb mode) or in 4xWxH (:rgbd mode).\n\nWe can save it to disk (first transferring it from GPU to host):\n\nusing FileIO, ImageIO\n\nhost_image_features = Array(image_features)\nsave(\"image.png\", GSP.to_image(@view(host_image_features[1:3, :, :])))\n\nIf the rasterizer is in :rgbd mode, we can also save the resulting depth map:\n\nif rasterizer.mode == :rgbd\n    depth_image = permutedims(@view(host_image_features[4, :, :]), (2, 1))\n    depth_image ./= 50f0 # maximum(depth_image)\n    clamp01!(depth_image)\n    save(\"depth.png\", colorview(Gray, depth_image))\nend\n\nExample of rendering gaussians (bicycle dataset after 400 training steps):\n\nRGB Depth\n(Image: ) (Image: )","category":"section"},{"location":"api/#Training-Gaussians","page":"API","title":"Training Gaussians","text":"GaussianSplatting.jl implements a Trainer that handles training routines such as loss computation, gradient update, model densification/pruning.\n\nTo construct a trainer pass:\n\ngaussians::GaussianModel that you want to train,\nrasterizer::GaussianRasterizer which it will use for rendering,\ndataset::ColmapDataset on which to train,\nopt_params::OptimizationParams that control learning rate (and its decay), densification and SSIM loss weighting.\n\nopt_params = GSP.OptimizationParams() # Use default parameters.\ntrainer = GSP.Trainer(rasterizer, gaussians, dataset, opt_params)\n\nTo perform a single optimization step, just call step! on a trainer.\n\nloss = step!(trainer)\n\nIf the dataset contains test data (e.g. train_test_split < 1), you can call validate to obtain validation metrics (SSIM, MSE, PSNR) accross test data:\n\n(; eval_ssim, eval_mse, eval_psnr) = validate(trainer)","category":"section"},{"location":"examples/#Examples","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"#GaussianSplatting.jl","page":"Home","title":"GaussianSplatting.jl","text":"Gaussian Splatting algorithm in pure Julia.\n\n(Image: )","category":"section"},{"location":"#Requirements","page":"Home","title":"Requirements","text":"Julia 1.10 or higher.\nAMDGPU.jl or CUDA.jl or Metal.jl capable machine.","category":"section"},{"location":"#Install","page":"Home","title":"Install","text":"Add GaussianSplatting.jl package:\n\n] add https://github.com/JuliaNeuralGraphics/GaussianSplatting.jl.git","category":"section"},{"location":"#Usage","page":"Home","title":"Usage","text":"GaussianSplatting.jl comes with a GUI application to train & view the gaussians.\n\nAdd necessary packages:\n] add AMDGPU # for AMD GPU\n] add CUDA   # for Nvidia GPU\n] add Metal  # for Apple GPU\nRun:\njulia> using AMDGPU; kab = ROCBackend()  # for AMD GPU\njulia> using CUDA; kab = CUDABackend()   # for Nvidia GPU\njulia> using Metal; kab = MetalBackend() # for Apple GPU\njulia> GaussianSplatting.gui(kab, \"path-to-colmap-dataset-directory\"; scale=1)","category":"section"},{"location":"#Viewer-mode","page":"Home","title":"Viewer mode","text":"Once you've trained a model and saved it to .bson file you can open it in a viewer-only mode by providing its path.\n\njulia> GaussianSplatting.gui(kab, \"path-to-checkpoint.bson\")\n\nAlternative, you can load a checkpoint in a training mode (see Usage section) using \"Save/Load\" tab.","category":"section"},{"location":"#References","page":"Home","title":"References","text":"3D Gaussian Splatting for Real-Time Radiance Field Rendering: https://arxiv.org/abs/2308.04079\ngsplat: https://github.com/nerfstudio-project/gsplat","category":"section"}]
}
